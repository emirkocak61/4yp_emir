<?xml version="1.0" ?>
<PlannerDemoConfig>
    <!-- <FeasibilityDrivenDDPSolver Name="mySolver" Debug="1"/> -->
    <!-- <AnalyticDDPSolver Name="mySolver" Debug="1" FunctionTolerance="1e-5" FunctionTolerancePatience="1"/> -->
    <!-- <ControlLimitedFeasibilityDrivenDDPSolver Name="MySolver"/> -->
    <AICOSolver Name="MySolver"/>
    

    <UnconstrainedTimeIndexedProblem Name="MyProblem">
        <!-- <DerivativeOrder>2</DerivativeOrder> -->
        <PlanningScene>
            <Scene>
                <JointGroup>arm</JointGroup>
                <URDF>{anytree_description}/urdf/anytree.urdf</URDF>
                <SRDF>{anytree_description}/config/anytree.srdf</SRDF>
                <SetRobotDescriptionRosParams>1</SetRobotDescriptionRosParams>
                <Links>
                    <Link Name="Target"/>
                    <Link Name="TargetRelative" Parent="Target"/>
                </Links>
                
                <JointVelocityLimits>3.1415 3.1415 3.1415 3.1415 3.1415 3.1415</JointVelocityLimits>
                
                <JointPositionLimitsLower>-2.62 0.0 -2.88 -1.52 -1.34 -2.79</JointPositionLimitsLower>
                <JointPositionLimitsUpper>2.62 2.967 0 1.52 1.34 2.79</JointPositionLimitsUpper>
                          
            </Scene>
        </PlanningScene>

        <Maps>
            <EffFrame Name="Position">
            <Type>RPY</Type>
                <EndEffector>
                    <Frame Link="gripperStator" LinkOffset="0.2 0 0 -1.5708 0 1.5708" Base="TargetRelative"/>
                </EndEffector>
            </EffFrame>
            <JointLimit Name="JointLimit" />
            <JointVelocityLimit Name="JointVelocityLimit" dt="0.02" MaximumJointVelocity="3.1415"/>
        </Maps>

        <Cost>
            <Task Task="Position" Rho="1e3" />
            <!-- Note: gets set in Python for each forward-iteration in finite horizon anyway... -->
            <Task Task="JointLimit" Rho="1e1"/>
            <Task Task="JointVelocityLimit" Rho="1e2" />
        </Cost>

        <!-- Number of forward-iterations in finite horizon -->

        <!-- 150 or above allows planner to escape local minimum in example -->
        <T>50</T>

        <!-- 130 or below causes planner to get trapped in local minimum in example -->
        <!-- <T>130</T> -->

        <!-- Strange behaviour between those values... -->

        <!-- Time interval between forward-iterations -->
        <tau>0.02</tau>

    </UnconstrainedTimeIndexedProblem>
</PlannerDemoConfig>